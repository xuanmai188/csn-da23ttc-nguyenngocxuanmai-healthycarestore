<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Li√™n h·ªá - Healthy Care</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- All CSS -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./fontawesome-free-6.3.0-web/css/all.min.css">
    <!-- CSS main-->
    <link rel="stylesheet" href="./css/main.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white bg-gradient shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="./img/web-logo.png" width="120px" alt="Web Logo Header">
            </a>
            
            <!-- N√∫t tr·ªü v·ªÅ Admin - ch·ªâ hi·ªÉn th·ªã khi admin ƒë√£ ƒëƒÉng nh·∫≠p -->
            <div id="adminReturnButton" class="d-none">
                <a href="admin.html" class="btn btn-outline-primary btn-sm me-3">
                    <i class="fas fa-crown me-1"></i>Tr·ªü v·ªÅ Admin
                </a>
            </div>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link text-success" href="index.html">Trang ch·ªß</a>
                    </li>
                    <li class="nav-item dropdown product-hover">
                        <a class="nav-link text-success dropdown-toggle" href="products.html">
                            S·∫£n ph·∫©m
                        </a>

                        <ul class="dropdown-menu simple-dropdown shadow">
                            <li><a class="dropdown-item" href="products.html?category=Nutritious cereals">Ng≈© c·ªëc b·ªï
                                    d∆∞·ª°ng</a></li>
                            <li><a class="dropdown-item" href="products.html?category=Pulses">C√°c lo·∫°i ƒë·∫≠u</a></li>
                            <li><a class="dropdown-item" href="products.html?category=Spices and Condiments">Gia v·ªã v√†
                                    n∆∞·ªõc ch·∫•m</a>
                            </li>
                            <li><a class="dropdown-item" href="products.html?category=Cooking oils">Th·ª±c ph·∫©m ch·ª©c nƒÉng v√† m·ªπ ph·∫©m thi√™n nhi√™n</a>
                            </li>
                            <li><a class="dropdown-item" href="products.html?category=Rice">G·∫°o v√† c√°c s·∫£n ph·∫©m t·ª´
                                    g·∫°o</a></li>
                        </ul>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link text-success" href="contact-us.html">Li√™n h·ªá</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-success" href="about-us.html">Gi·ªõi Thi·ªáu</a>
                    </li>

                    <li class="nav-item dropdown" id="userArea">
                        <a class="nav-link text-success dropdown-toggle" href="#" data-bs-toggle="dropdown">
                            <i class="fa-solid fa-user"></i> ƒêƒÉng nh·∫≠p
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" id="userDropdown">
                            <li><a class="dropdown-item" href="#">T√†i kho·∫£n c·ªßa t√¥i</a></li>
                            <li><a class="dropdown-item" href="#">L·ªãch s·ª≠ mua h√†ng</a></li>
                            <li><a class="dropdown-item" href="#">C√†i ƒë·∫∑t</a></li>
                            <li><a class="dropdown-item" href="#" id="btnLogout">ƒêƒÉng xu·∫•t</a></li>
                        </ul>
                    </li>

                    <li class="nav-item ms-3">
                        <button class="btn btn-success position-relative" id="btnCart" data-bs-toggle="offcanvas"
                            data-bs-target="#offcanvasCart">
                            Gi·ªè h√†ng <span id="cartCount" class="cart-count ms-1">0</span>
                        </button>
                    </li>


                </ul>
            </div>
        </div>
    </nav>
    <div class="container" style="margin-top: 80px">
        <div class="card shadow">
            <div class="card-body">
                <h1 class="card-title">Li√™n h·ªá ch√∫ng t√¥i</h1>
                <h6 class="card-subtitle mb-3 text-muted">
                    H√£y li√™n h·ªá v·ªõi ch√∫ng t√¥i ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ nhanh nh·∫•t.
                </h6>

                <div class="row my-4">

                    <!-- TH√îNG TIN LI√äN H·ªÜ -->
                    <div class="col-md-6 mb-4">
                        <h5 class="mb-3">Th√¥ng tin li√™n l·∫°c</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                üìû S·ªë ƒëi·ªán tho·∫°i:
                                <a href="tel:+84382020858">0382 020 858</a>
                            </li>
                            <li class="mb-2">
                                ‚úâÔ∏è Email:
                                <a href="mailto:support@healthycare.vn">support@healthycare.vn</a>
                            </li>
                            <li>
                                üìç ƒê·ªãa ch·ªâ:
                                <a href="https://goo.gl/maps/UTZhQmUjPrM2" target="_blank">
                                    T·∫ßng 1, T√≤a C7, ƒê·∫°i h·ªçc Tr√† Vinh, Ph∆∞·ªùng 5,
                                    Nguy·ªÖn Thi·ªán Th√†nh, Tr√† Vinh, Vi·ªát Nam
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- FORM LI√äN H·ªÜ -->
                    <div class="col-md-6">
                        <h5 class="mb-3">G·ª≠i tin nh·∫Øn cho ch√∫ng t√¥i</h5>

                        <form id="contactForm">

                            <div class="mb-3">
                                <label class="form-label">H·ªç t√™n <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="name" 
                                       pattern="^[a-zA-Z√Ä√Å√Ç√É√à√â√ä√å√ç√í√ì√î√ï√ô√öƒÇƒêƒ®≈®∆†√†√°√¢√£√®√©√™√¨√≠√≤√≥√¥√µ√π√∫ƒÉƒëƒ©≈©∆°∆ØƒÇ·∫†·∫¢·∫§·∫¶·∫®·∫™·∫¨·∫Æ·∫∞·∫≤·∫¥·∫∂·∫∏·∫∫·∫º·ªÄ·ªÄ·ªÇ∆∞ƒÉ·∫°·∫£·∫•·∫ß·∫©·∫´·∫≠·∫Ø·∫±·∫≥·∫µ·∫∑·∫π·∫ª·∫Ω·ªÅ·ªÅ·ªÉ·ªÑ·ªÜ·ªà·ªä·ªå·ªé·ªê·ªí·ªî·ªñ·ªò·ªö·ªú·ªû·ª†·ª¢·ª§·ª¶·ª®·ª™·ªÖ·ªá·ªâ·ªã·ªç·ªè·ªë·ªì·ªï·ªó·ªô·ªõ·ªù·ªü·ª°·ª£·ª•·ªß·ª©·ª´·ª¨·ªÆ·ª∞·ª≤·ª¥√ù·ª∂·ª∏·ª≠·ªØ·ª±·ª≥·ªµ√Ω·ª∑·ªπ\s]+$" 
                                       title="H·ªç t√™n ch·ªâ ƒë∆∞·ª£c ch·ª©a ch·ªØ c√°i v√† kho·∫£ng tr·∫Øng, kh√¥ng ƒë∆∞·ª£c ch·ª©a s·ªë ho·∫∑c k√Ω t·ª± ƒë·∫∑c bi·ªát" 
                                       required>
                                <div class="invalid-feedback">
                                    H·ªç t√™n ch·ªâ ƒë∆∞·ª£c ch·ª©a ch·ªØ c√°i v√† kho·∫£ng tr·∫Øng
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Email <span class="text-danger">*</span></label>
                                <input type="email" class="form-control" id="email" 
                                       pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                                       title="Vui l√≤ng nh·∫≠p ƒë·ªãa ch·ªâ email h·ª£p l·ªá (v√≠ d·ª•: example@domain.com)"
                                       required>
                                <div class="invalid-feedback">
                                    Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng (v√≠ d·ª•: example@domain.com)
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">
                                    S·ªë ƒëi·ªán tho·∫°i <span class="text-danger">*</span>
                                </label>
                                <input type="tel" class="form-control" id="phone" 
                                       pattern="^(0|\+84)[0-9]{9}$"
                                       title="S·ªë ƒëi·ªán tho·∫°i ph·∫£i c√≥ 10 ch·ªØ s·ªë, b·∫Øt ƒë·∫ßu b·∫±ng s·ªë 0 ho·∫∑c +84 (v√≠ d·ª•: 0123456789)"
                                       placeholder="0123456789"
                                       required>
                                <div class="invalid-feedback">
                                    S·ªë ƒëi·ªán tho·∫°i ph·∫£i c√≥ 10 ch·ªØ s·ªë, b·∫Øt ƒë·∫ßu b·∫±ng s·ªë 0 (v√≠ d·ª•: 0123456789)
                                </div>
                            </div>


                            <div class="mb-3">
                                <label class="form-label">
                                    N·ªôi dung tin nh·∫Øn <span class="text-danger">*</span>
                                </label>
                                <textarea class="form-control" id="message" rows="5" 
                                          minlength="10" maxlength="1000"
                                          title="N·ªôi dung tin nh·∫Øn ph·∫£i c√≥ t·ª´ 10 ƒë·∫øn 1000 k√Ω t·ª±"
                                          placeholder="Nh·∫≠p n·ªôi dung tin nh·∫Øn c·ªßa b·∫°n (t·ªëi thi·ªÉu 10 k√Ω t·ª±)"
                                          required></textarea>
                                <div class="invalid-feedback">
                                    N·ªôi dung tin nh·∫Øn ph·∫£i c√≥ t·ª´ 10 ƒë·∫øn 1000 k√Ω t·ª±
                                </div>
                                <div class="form-text">
                                    <span id="messageCount">0</span>/1000 k√Ω t·ª±
                                </div>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-success btn-lg">
                                    G·ª≠i li√™n h·ªá
                                </button>
                            </div>

                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="farm-img">
      <img src="./img/footer-bg.png" class="img-fluid" width="718" height="239" alt="Footer background"
        data-src="./img/footer-bg.png" style="padding-top: 100px;">
    </div>
    <footer class="bg-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-sm-6">
                    <div class="single-box">
                        <img src="./img/web-logo.png" width="250px" alt="Web Logo Footer">
                        <ul class="nav flex-column" style="margin-left: -15px;">
                            <li class="nav-item">
                                <a class="nav-link text-success" href="#">
                                    <i class="fa-solid fa-location-dot"></i>&nbsp;
                                    Ph∆∞·ªùng 1, Tr√† Vinh, Vi·ªát Nam
                                </a>
                            </li>

                            <li class="nav-item"><a class="nav-link text-success" href="#"><i
                                        class="fa-solid fa-phone"></i>&nbsp;
                                    0382 020 858 - 0222 342 495 </a></li>
                            <li class="nav-item"><a class="nav-link text-success" href="#"> <i
                                        class="fa-sharp fa-regular fa-envelope"></i>&nbsp; support@aptech.vn</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="single-box">
                        <h2 class="fs-6 text-uppercase">H·ª¢P T√ÅC & PH√ÅT TRI·ªÇN</h2>
                        <ul class="nav flex-column" style="margin-left: -15px;">
                            <li class="nav-item"><a class="nav-link text-success" href="dai-ly.html">Tr·ªü th√†nh ƒë·∫°i l√Ω N√¥ng tr·∫°i H·ªØu c∆°</a></li>
                            <li class="nav-item"><a class="nav-link text-success" href="bang-gia.html">B·∫£ng gi√° b√°n l·∫ª</a></li>
                            <li class="nav-item"><a class="nav-link text-success" href="thu-vien-anh.html">Th∆∞ vi·ªán ·∫£nh</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="single-box">
                        <h2 class="fs-6 text-uppercase">Gi√° tr·ªã c·ªët l√µi</h2>
                        <ul class="nav flex-column" style="margin-left: -15px;">
                            <li><a class="nav-link text-success" href="gia-tri-dao-duc.html">Kinh doanh d·ª±a tr√™n gi√° tr·ªã ƒë·∫°o ƒë·ª©c</a></li>
                            <li><a class="nav-link text-success" href="khach-hang-trung-tam.html">ƒê·∫∑t kh√°ch h√†ng l√†m trung t√¢m</a></li>
                            <li><a class="nav-link text-success" href="chat-luong-an-toan.html">Ch·∫•t l∆∞·ª£ng v√† an to√†n</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="single-box">
                        <h2 class="fs-6 text-uppercase">Gi·ªõi thi·ªáu</h2>
                        <ul class="nav flex-column" style="margin-left: -15px;">
                            <li class="nav-item"><a class="nav-link text-success" href="about-us.html">V·ªÅ ch√∫ng t√¥i</a>
                            </li>
                            <li class="nav-item"><a class="nav-link text-success" href="tu-van.html">T∆∞ v·∫•n</a></li>
                            <li class="nav-item"><a class="nav-link text-success" href="dieu-khoan.html">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
                            <li class="nav-item"><a class="nav-link text-success" href="bao-mat.html">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                            <li class="nav-item"><a class="nav-link text-success" href="chinh-sach-khac.html">C√°c ch√≠nh s√°ch kh√°c</a></li>
                            <li class="nav-item">
                                <a class="nav-link text-success" href="#" onclick="showAdminLogin()">
                                    <i class="fas fa-cog"></i> Admin Panel
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <main class="container">
        <!-- Offcanvas Cart -->
        <div class="offcanvas offcanvas-end" id="offcanvasCart" style="width:420px">

            <div class="offcanvas-header">
                <h5 class="offcanvas-title">Gi·ªè h√†ng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="offcanvas-body d-flex flex-column">
                <div id="cartItems" class="mb-3"><!-- JS render --></div>
                <div class="mt-auto">
                    <div class="d-flex justify-content-between mb-3">
                        <strong>T·ªïng:</strong>
                        <strong id="cartTotal">0‚Ç´</strong>
                    </div>
                    <button class="btn btn-success w-100 mb-2" id="btnCheckout" data-bs-dismiss="offcanvas">Ti·∫øn h√†nh
                        thanh to√°n</button>
                    <button class="btn btn-outline-secondary w-100" id="btnClearCart">X√≥a gi·ªè h√†ng</button>
                </div>
            </div>
        </div>

        <!-- Modal: Checkout -->
        <div class="modal fade" id="modalCheckout" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Thanh to√°n</h5>
                        <button class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <form id="checkoutForm" class="form-checkout">
                            <div class="mb-3">
                                <label class="form-label">H·ªç t√™n</label>
                                <input type="text" id="custName" class="form-control" placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n"
                                    pattern=".{2,}" title="H·ªç t√™n ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±" autocomplete="name" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                                <input type="tel" id="custPhone" class="form-control" placeholder="0123 456 789"
                                    pattern="0[0-9]{9}" title="S·ªë ƒëi·ªán tho·∫°i ph·∫£i g·ªìm 10 ch·ªØ s·ªë, b·∫Øt ƒë·∫ßu b·∫±ng s·ªë 0"
                                    autocomplete="tel" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">ƒê·ªãa ch·ªâ giao h√†ng</label>
                                <input type="text" id="custAddress" class="form-control" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Ph∆∞∆°ng th·ª©c thanh to√°n</label>
                                <select id="payMethod" class="form-select">
                                    <option value="cod">Thanh to√°n khi nh·∫≠n h√†ng (COD)</option>
                                    <option value="bank">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</option>
                                </select>
                            </div>
                            <div class="text-end">
                                <button class="btn btn-success">X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal: Success -->
        <div class="modal fade" id="modalSuccess" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content text-center py-4">
                    <h5 class="mb-3">ƒê·∫∑t h√†ng th√†nh c√¥ng!</h5>
                    <p class="text-muted">M√£ ƒë∆°n h√†ng: <strong id="orderId">#HC0001</strong></p>
                    <button class="btn btn-primary" data-bs-dismiss="modal">ƒê√≥ng</button>
                </div>
            </div>
        </div>
    </main>
    <!-- All Js -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="./js/lst-products.js"></script>
    <script src="./js/detail.js"></script>
    <script src="./js/auth-cart.js"></script>

    <script>
    // Function to update category dropdown from localStorage
    function updateCategoryDropdown() {
        const categories = JSON.parse(localStorage.getItem('websiteCategories') || localStorage.getItem('categories')) || [];
        const dropdown = document.querySelector('.dropdown-menu');
        
        if (dropdown && categories.length > 0) {
            let newHTML = '';
            categories.forEach(category => {
                // Ch·ªâ hi·ªÉn th·ªã t√™n danh m·ª•c, kh√¥ng hi·ªÉn th·ªã s·ªë l∆∞·ª£ng
                newHTML += `<li><a class="dropdown-item" href="products.html?category=${category.value}">${category.name}</a></li>`;
            });
            dropdown.innerHTML = newHTML;
        }
    }
    
    // Listen for category updates from admin
    window.addEventListener('categoriesUpdated', function(event) {
        updateCategoryDropdown();
    });
    
    // Update categories on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateCategoryDropdown();
    });
    </script>

    <div class="modal fade" id="modalAuth" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="authTitle">ƒêƒÉng nh·∫≠p</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <div class="modal-body">
            <form id="authForm">
              <div class="mb-3" id="authNameWrapper" style="display:none">
                <label class="form-label">H·ªç v√† t√™n</label>
                <input type="text" id="authName" class="form-control">
              </div>

              <div class="mb-3">
                <label class="form-label">T√™n ƒëƒÉng nh·∫≠p</label>
                <input type="text" id="authUsername" class="form-control" required>
              </div>

              <div class="mb-3">
                <label class="form-label">M·∫≠t kh·∫©u</label>
                <input type="password" id="authPassword" class="form-control" required>
              </div>

              <div class="text-end">
                <button class="btn btn-success">X√°c nh·∫≠n</button>
              </div>
            </form>

            <hr>
            <div class="d-flex justify-content-between align-items-center">
              <a href="#" id="toggleAuth">Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalProfile" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Th√¥ng tin t√†i kho·∫£n</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form onsubmit="updateProfile(event)">
              <div class="mb-3">
                <label class="form-label">H·ªç t√™n</label>
                <input type="text" id="profileName" class="form-control" required>
              </div>

              <div class="mb-3">
                <label class="form-label">T√™n ƒëƒÉng nh·∫≠p</label>
                <input type="text" id="profileUsername" class="form-control" required>
              </div>

              <div class="mb-3">
                <label class="form-label">M·∫≠t kh·∫©u</label>
                <input type="text" id="profilePassword" class="form-control" required>
              </div>

              <div class="text-end">
                <button class="btn btn-success">C·∫≠p nh·∫≠t</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>


    <div class="modal fade" id="modalHistory" tabindex="-1">
      <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">L·ªãch s·ª≠ mua h√†ng</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body" id="historyBody">
            <!-- JS render -->
          </div>
        </div>
      </div>
    </div>

    <!-- X·ª¨ L√ù FORM -->
    <script>
        document.getElementById("contactForm").addEventListener("submit", function (e) {
            e.preventDefault(); // NgƒÉn reload trang

            // L·∫•y d·ªØ li·ªáu t·ª´ form
            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const phone = document.getElementById("phone").value.trim();
            const message = document.getElementById("message").value.trim();

            // Ki·ªÉm tra kh√¥ng ƒë∆∞·ª£c b·ªè tr·ªëng
            if (name === "" || email === "" || phone === "" || message === "") {
                alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
                return;
            }

            // Ki·ªÉm tra h·ªç t√™n ch·ªâ ch·ª©a ch·ªØ c√°i v√† kho·∫£ng tr·∫Øng (kh√¥ng c√≥ s·ªë)
            const nameRegex = /^[a-zA-Z√Ä√Å√Ç√É√à√â√ä√å√ç√í√ì√î√ï√ô√öƒÇƒêƒ®≈®∆†√†√°√¢√£√®√©√™√¨√≠√≤√≥√¥√µ√π√∫ƒÉƒëƒ©≈©∆°∆ØƒÇ·∫†·∫¢·∫§·∫¶·∫®·∫™·∫¨·∫Æ·∫∞·∫≤·∫¥·∫∂·∫∏·∫∫·∫º·ªÄ·ªÄ·ªÇ∆∞ƒÉ·∫°·∫£·∫•·∫ß·∫©·∫´·∫≠·∫Ø·∫±·∫≥·∫µ·∫∑·∫π·∫ª·∫Ω·ªÅ·ªÅ·ªÉ·ªÑ·ªÜ·ªà·ªä·ªå·ªé·ªê·ªí·ªî·ªñ·ªò·ªö·ªú·ªû·ª†·ª¢·ª§·ª¶·ª®·ª™·ªÖ·ªá·ªâ·ªã·ªç·ªè·ªë·ªì·ªï·ªó·ªô·ªõ·ªù·ªü·ª°·ª£·ª•·ªß·ª©·ª´·ª¨·ªÆ·ª∞·ª≤·ª¥√ù·ª∂·ª∏·ª≠·ªØ·ª±·ª≥·ªµ√Ω·ª∑·ªπ\s]+$/;
            if (!nameRegex.test(name)) {
                alert("H·ªç t√™n ch·ªâ ƒë∆∞·ª£c ch·ª©a ch·ªØ c√°i v√† kho·∫£ng tr·∫Øng, kh√¥ng ƒë∆∞·ª£c ch·ª©a s·ªë ho·∫∑c k√Ω t·ª± ƒë·∫∑c bi·ªát!");
                document.getElementById("name").focus();
                return;
            }

            // Ki·ªÉm tra h·ªç t√™n ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±
            if (name.length < 2) {
                alert("H·ªç t√™n ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±!");
                document.getElementById("name").focus();
                return;
            }

            // Ki·ªÉm tra email h·ª£p l·ªá
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailRegex.test(email)) {
                alert("Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng! Vui l√≤ng nh·∫≠p email h·ª£p l·ªá (v√≠ d·ª•: example@domain.com)");
                document.getElementById("email").focus();
                return;
            }

            // Ki·ªÉm tra s·ªë ƒëi·ªán tho·∫°i Vi·ªát Nam
            const phoneRegex = /^(0|\+84)[0-9]{9}$/;
            if (!phoneRegex.test(phone)) {
                alert("S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá! Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i 10 ch·ªØ s·ªë b·∫Øt ƒë·∫ßu b·∫±ng s·ªë 0 (v√≠ d·ª•: 0123456789)");
                document.getElementById("phone").focus();
                return;
            }

            // Ki·ªÉm tra n·ªôi dung tin nh·∫Øn
            if (message.length < 10) {
                alert("N·ªôi dung tin nh·∫Øn ph·∫£i c√≥ √≠t nh·∫•t 10 k√Ω t·ª±!");
                document.getElementById("message").focus();
                return;
            }

            if (message.length > 1000) {
                alert("N·ªôi dung tin nh·∫Øn kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 1000 k√Ω t·ª±!");
                document.getElementById("message").focus();
                return;
            }

            // L∆∞u v√†o localStorage
            localStorage.setItem("contact_name", name);
            localStorage.setItem("contact_phone", phone);
            localStorage.setItem("contact_email", email);
            localStorage.setItem("contact_message", message);

            // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
            alert("G·ª≠i li√™n h·ªá th√†nh c√¥ng! Ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi s·ªõm nh·∫•t c√≥ th·ªÉ.");

            // Chuy·ªÉn sang trang ph·∫£n h·ªìi
            window.location.href = "respond.html";
        });

        // Th√™m validation real-time cho tr∆∞·ªùng h·ªç t√™n
        document.getElementById("name").addEventListener("input", function(e) {
            const nameInput = e.target;
            const nameValue = nameInput.value;
            const nameRegex = /^[a-zA-Z√Ä√Å√Ç√É√à√â√ä√å√ç√í√ì√î√ï√ô√öƒÇƒêƒ®≈®∆†√†√°√¢√£√®√©√™√¨√≠√≤√≥√¥√µ√π√∫ƒÉƒëƒ©≈©∆°∆ØƒÇ·∫†·∫¢·∫§·∫¶·∫®·∫™·∫¨·∫Æ·∫∞·∫≤·∫¥·∫∂·∫∏·∫∫·∫º·ªÄ·ªÄ·ªÇ∆∞ƒÉ·∫°·∫£·∫•·∫ß·∫©·∫´·∫≠·∫Ø·∫±·∫≥·∫µ·∫∑·∫π·∫ª·∫Ω·ªÅ·ªÅ·ªÉ·ªÑ·ªÜ·ªà·ªä·ªå·ªé·ªê·ªí·ªî·ªñ·ªò·ªö·ªú·ªû·ª†·ª¢·ª§·ª¶·ª®·ª™·ªÖ·ªá·ªâ·ªã·ªç·ªè·ªë·ªì·ªï·ªó·ªô·ªõ·ªù·ªü·ª°·ª£·ª•·ªß·ª©·ª´·ª¨·ªÆ·ª∞·ª≤·ª¥√ù·ª∂·ª∏·ª≠·ªØ·ª±·ª≥·ªµ√Ω·ª∑·ªπ\s]*$/;
            
            if (nameValue && !nameRegex.test(nameValue)) {
                nameInput.classList.add("is-invalid");
                nameInput.classList.remove("is-valid");
            } else if (nameValue.length >= 2) {
                nameInput.classList.add("is-valid");
                nameInput.classList.remove("is-invalid");
            } else {
                nameInput.classList.remove("is-valid", "is-invalid");
            }
        });

        // Th√™m validation real-time cho email
        document.getElementById("email").addEventListener("input", function(e) {
            const emailInput = e.target;
            const emailValue = emailInput.value;
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            
            if (emailValue && emailRegex.test(emailValue)) {
                emailInput.classList.add("is-valid");
                emailInput.classList.remove("is-invalid");
            } else if (emailValue) {
                emailInput.classList.add("is-invalid");
                emailInput.classList.remove("is-valid");
            } else {
                emailInput.classList.remove("is-valid", "is-invalid");
            }
        });

        // Th√™m validation real-time cho s·ªë ƒëi·ªán tho·∫°i
        document.getElementById("phone").addEventListener("input", function(e) {
            const phoneInput = e.target;
            const phoneValue = phoneInput.value;
            const phoneRegex = /^(0|\+84)[0-9]{9}$/;
            
            // Ch·ªâ cho ph√©p nh·∫≠p s·ªë v√† d·∫•u +
            const numericValue = phoneValue.replace(/[^0-9+]/g, '');
            if (numericValue !== phoneValue) {
                phoneInput.value = numericValue;
                return;
            }
            
            if (phoneValue && phoneRegex.test(phoneValue)) {
                phoneInput.classList.add("is-valid");
                phoneInput.classList.remove("is-invalid");
            } else if (phoneValue) {
                phoneInput.classList.add("is-invalid");
                phoneInput.classList.remove("is-valid");
            } else {
                phoneInput.classList.remove("is-valid", "is-invalid");
            }
        });

        // Th√™m validation v√† ƒë·∫øm k√Ω t·ª± cho tin nh·∫Øn
        document.getElementById("message").addEventListener("input", function(e) {
            const messageInput = e.target;
            const messageValue = messageInput.value;
            const messageCount = document.getElementById("messageCount");
            
            // C·∫≠p nh·∫≠t s·ªë k√Ω t·ª±
            messageCount.textContent = messageValue.length;
            
            // ƒê·ªïi m√†u khi g·∫ßn ƒë·∫°t gi·ªõi h·∫°n
            if (messageValue.length > 900) {
                messageCount.style.color = "#dc3545"; // ƒê·ªè
            } else if (messageValue.length > 800) {
                messageCount.style.color = "#fd7e14"; // Cam
            } else {
                messageCount.style.color = "#6c757d"; // X√°m
            }
            
            // Validation
            if (messageValue.length >= 10 && messageValue.length <= 1000) {
                messageInput.classList.add("is-valid");
                messageInput.classList.remove("is-invalid");
            } else if (messageValue.length > 0) {
                messageInput.classList.add("is-invalid");
                messageInput.classList.remove("is-valid");
            } else {
                messageInput.classList.remove("is-valid", "is-invalid");
            }
        });

        // NgƒÉn paste n·ªôi dung kh√¥ng h·ª£p l·ªá v√†o tr∆∞·ªùng s·ªë ƒëi·ªán tho·∫°i
        document.getElementById("phone").addEventListener("paste", function(e) {
            e.preventDefault();
            const paste = (e.clipboardData || window.clipboardData).getData('text');
            const numericPaste = paste.replace(/[^0-9+]/g, '');
            e.target.value = numericPaste;
            e.target.dispatchEvent(new Event('input'));
        });

        // NgƒÉn nh·∫≠p k√Ω t·ª± kh√¥ng h·ª£p l·ªá v√†o s·ªë ƒëi·ªán tho·∫°i
        document.getElementById("phone").addEventListener("keypress", function(e) {
            const char = String.fromCharCode(e.which);
            if (!/[0-9+]/.test(char)) {
                e.preventDefault();
            }
        });

        // Kh·ªüi t·∫°o ƒë·∫øm k√Ω t·ª± cho tin nh·∫Øn
        document.addEventListener("DOMContentLoaded", function() {
            const messageInput = document.getElementById("message");
            const messageCount = document.getElementById("messageCount");
            messageCount.textContent = messageInput.value.length;
        });
    </script>


</body>

</html>